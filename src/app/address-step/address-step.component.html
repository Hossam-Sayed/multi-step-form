@for (address of addresses().controls; track address; let i = $index) {
<div [formGroup]="getAddressGroup(i)">
  <mat-form-field class="block w-full" appearance="outline">
    <mat-label>Street</mat-label>
    <input matInput formControlName="street" />
  </mat-form-field>

  <mat-form-field class="block w-full" appearance="outline">
    <mat-label>City</mat-label>
    <input matInput formControlName="city" />
  </mat-form-field>

  <mat-form-field class="block w-full" appearance="outline">
    <mat-label>Zip</mat-label>
    <input matInput formControlName="zip" />
  </mat-form-field>

  <mat-form-field class="block w-full" appearance="outline">
    <mat-label>Country</mat-label>
    <input matInput formControlName="country" />
  </mat-form-field>

  @if(addresses.length > 1){
  <button mat-button color="warn" (click)="remove.emit(i)">
    Remove Address
  </button>
  }

  <hr class="my-4" />
</div>
}

<button mat-button color="primary" (click)="add.emit()">Add Address</button>
